# Система Подготовки Студентов к Экзаменам (CLI)

Эта программная система представляет собой консольное приложение (CLI) для помощи студентам в подготовке к экзаменам, а также для преподавателей для управления учебными материалами и студентами.

## Функциональность

Система предоставляет следующие возможности:

### Для Студентов:
* **Вход в систему:** Авторизация по номеру студенческого билета.
* **Самооценка знаний:** Просмотр текущего уровня готовности к экзаменам.
* **Консультация по теме:** Проведение консультации по теме, результатом которой может быть добавление рекомендованной литературы к изученным материалам студента.
* **Изучение темы:** Изучение темы из файла `materials.json`, что влияет на уровень готовности студента.
* **Сдача пробного экзамена:** Прохождение пробного экзамена по выбранному предмету с оценкой результатов и обновлением уровня готовности.

### Для Преподавателей:
* **Добавление данных:**
    * Добавление новых студентов.
    * Добавление экзаменов (предмет, вопросы, правильные ответы).
    * Добавление дополнительной литературы (с темой, названием, автором, предметом).
    * Добавление простых тем для изучения.
* **Удаление данных:**
    * Удаление студентов.
    * Удаление экзаменов.
    * Удаление дополнительной литературы.
    * Удаление простых тем.

## Структура Проекта

Проект организован следующим образом:

* `main.py`: Точка входа в приложение. Инициализирует консоль и запускает основной цикл программы.
* `console/`: Содержит логику консольного интерфейса и управление состоянием приложения.
    * `console.py`: Основной класс `Console`, который управляет взаимодействием с пользователем, обрабатывает ввод и переключает состояния.
    * `states.py`: Определяет различные состояния приложения (`InitialState`, `StudentState`, `TeacherState`, `AddedState`, `DeletedState`) и их поведение (отображение меню, обработка ввода). Использует шаблон "Состояние" для управления потоком приложения.
* `entities/`: Содержит классы, представляющие основные сущности системы.
    * `student.py`: Класс `Student` для управления данными студента, его результатами экзаменов, изученными материалами и уровнем готовности.
    * `exam.py`: Класс `Exam` для определения структуры экзамена (предмет, вопросы).
    * `material.py`: Класс `Material` для работы с учебными материалами, включая простые темы и дополнительную литературу.
    * `additional_classes.py`: Класс `AdditionalClasses` для проведения консультаций.
    * `previous_attempt.py`: Класс `PreviousExamAttempt`, предназначенный для хранения и отображения результатов предыдущих попыток сдачи экзаменов. (Класс присутствует, но на данный момент не используется в основной логике `Student.take_mock_exam()`, где результаты обрабатываются напрямую. Может быть интегрирован для расширения функциональности по ведению истории попыток).
* `storage/`: Директория для хранения данных приложения в формате JSON.
    * `students.json`: Хранит информацию о студентах.
    * `exams.json`: Хранит данные об экзаменах.
    * `materials.json`: Хранит простые темы для изучения.
    * `educational_materials.json`: Хранит информацию о дополнительной литературе.
* `test_entities.py`: Файл, содержащий юнит-тесты для классов, определенных в папке `entities/`.

## Классы

### Exam
Класс, представляющий экзамен.

**Атрибуты**:
* `subject`: Дисциплина, по которой проводится экзамен.
* `questions`: Список вопросов с соответствующими темами и правильными ответами.
    
**Методы**:
* `load(cls, subject: str) -> Optional['Exam']`: Загрузка информации об экзамене по определённому предмету.
* `load_all(cls) -> Dict[str, Dict[str, Any]]`: Загрузка информации обо всех экзаменах из файла.
* `save(self) -> None`: Сохранение информации об экзамене.
* `delete_exam(cls, subject: str) -> bool`: Удаление экзамена из файла по названию предмета. Возвращает `True` в случае успеха, `False` иначе.
* `to_dict(self) -> Dict[str, Any]`: Преобразование информации об экзамене в словарь для сохранения.
 
### Material
Класс, представляющий учебный материал (как простые темы, так и дополнительную литературу).

**Атрибуты**:
* `topic`: Тема учебного материала (обязательно).
* `title`: Название учебного материала (для дополнительной литературы).
* `author`: Автор учебного материала (для дополнительной литературы).
* `subject`: Дисциплина, к которой относится учебный материал (для дополнительной литературы).
* `is_simple_topic`: Флаг, указывающий, является ли это простой темой (`True`) или дополнительной литературой (`False`).

**Методы**:
* `load_educational_material(cls, topic_name: str) -> Optional['Material']`: Загрузка объекта дополнительной литературы по теме.
* `load_simple_topic(cls, topic_name: str) -> Optional['Material']`: Загрузка объекта простой темы по названию.
* `_load_from_file(cls, file_path: Path) -> Dict[str, Any]`: Внутренний метод для загрузки данных из указанного JSON-файла.
* `load_all_educational_materials(cls) -> Dict[str, Any]`: Загрузка всех объектов дополнительной литературы из файла.
* `load_all_simple_topics(cls) -> Dict[str, Any]`: Загрузка всех простых тем из файла.
* `save(self) -> None`: Сохранение учебного материала (либо как простой темы, либо как дополнительной литературы) в соответствующий файл.
* `delete_simple_topic(cls, topic_name: str) -> bool`: Удаление простой темы из файла. Возвращает `True` в случае успеха, `False` иначе.
* `delete_educational_material(cls, topic_name: str) -> bool`: Удаление дополнительной литературы из файла по теме. Возвращает `True` в случае успеха, `False` иначе.
* `to_dict(self) -> Dict[str, Any]`: Преобразование объекта материала в словарь для сохранения.

### Student
Класс, представляющий студента.

**Атрибуты**:
* `id`: Номер студенческого билета.
* `last_name`: Фамилия студента.
* `first_name`: Имя студента.
* `exam_result`: Словарь, хранящий результаты пробных экзаменов (например, `{'Математика': '10/15'}`).
* `materials`: Список изученных материалов (включая простые темы и данные о дополнительной литературе).
* `readiness`: Уровень готовности студента к экзаменам (число от 0 до 100).

**Методы**:
* `self_assessment(self) -> None`: Отображает текущий уровень готовности студента.
* `study_topic(self) -> None`: Позволяет студенту изучить тему, если она найдена в `materials.json`, и увеличивает готовность.
* `take_mock_exam(self) -> None`: Позволяет студенту пройти пробный экзамен по выбранному предмету, оценивает ответы и обновляет готовность.
* `show_status(self) -> None`: Отображает общую информацию о студенте, включая готовность и изученные материалы.
* `save(self) -> None`: Сохранение данных студента в файл.
* `load(cls, student_id: str) -> Optional['Student']`: Загрузка данных студента по ID.
* `delete_student(cls, student_id: str) -> bool`: Удаление данных студента из файла по ID. Возвращает `True` в случае успеха, `False` иначе.

### PreviousExamAttempt
Класс, представляющий попытку сдачи экзамена.

**Атрибуты**:
* `exam`: Экзамен, который сдавался (объект `Exam`).
* `answers`: Список ответов студента на вопросы экзамена.

**Методы**:
* `calculate_score(self) -> int`: Метод для подсчета правильных ответов.
* `display_results(self) -> None`: Метод для отображения результатов попытки сдачи экзамена (вопрос, ваш ответ, правильный ответ, итоговый балл).

### AdditionalClasses
Класс, представляющий дополнительные занятия (консультации).

**Атрибуты**:
* `student`: Студент, для которого проводятся дополнительные занятия.
* `topic`: Тема дополнительных занятий.

**Методы**:
* `conduct_consultation(self) -> None`: Метод для проведения консультации по заданной теме. Если материал по теме найден в `educational_materials.json`, он добавляется в изученные материалы студента и увеличивается готовность.

### Console
Класс, представляющий интерфейс командной строки для взаимодействия со студентами и системой.

**Атрибуты**:
* `student`: Текущий авторизованный студент (или `None`).
* `state`: Текущее состояние интерфейса (объект класса-наследника `State`).
* `exam`: Может временно хранить объект `Exam` (не используется как постоянное состояние).
* `educational_material`: Может временно хранить объект `Material` (не используется как постоянное состояние).

**Методы**:
* `set_state(self, state: State) -> None`: Метод для установки текущего состояния интерфейса.
* `start(self) -> None`: Метод для запуска интерфейса командной строки и основного цикла обработки ввода.
* `log_in(self) -> None`: Метод для осуществления входа студента в систему.
* `process_student_choice(self, choice: str) -> None`: Метод для обработки выбора, сделанного студентом в меню.
* `process_added_choice(self, choice: str) -> None`: Метод для обработки выбора в меню добавления данных (для преподавателя).
* `process_deleted_choice(self, choice: str) -> None`: Метод для обработки выбора в меню удаления данных (для преподавателя).

## Классы состояний

### State
Абстрактный базовый класс, представляющий состояние интерфейса.

**Атрибуты**:
* `console`: Экземпляр класса `Console`, управляющий состоянием.

**Методы**:
* `show_menu(self) -> None`: Абстрактный метод для отображения меню, специфичного для текущего состояния.
* `handle_input(self, choice: str) -> None`: Абстрактный метод для обработки ввода пользователя, специфичного для текущего состояния.

### InitialState
Класс, представляющий начальное состояние интерфейса (выбор роли).

**Методы**:
* `show_menu(self) -> None`: Отображает меню для выбора роли (студент/преподаватель/выход).
* `handle_input(self, choice: str) -> None`: Обрабатывает выбор пользователя для перехода в соответствующее состояние.

### StudentState
Класс, представляющий состояние интерфейса для авторизованного студента.

**Методы**:
* `show_menu(self) -> None`: Отображает главное меню для студента.
* `handle_input(self, choice: str) -> None`: Обрабатывает выбор студента для выполнения операций.

### TeacherState
Класс, представляющий состояние интерфейса для преподавателей.

**Методы**:
* `show_menu(self) -> None`: Отображает меню преподавателя (добавление/удаление данных).
* `handle_input(self, choice: str) -> None`: Обрабатывает выбор преподавателя для перехода в состояние добавления или удаления данных.

### AddedState
Класс, представляющий состояние интерфейса для добавления данных (подменю преподавателя).

**Методы**:
* `show_menu(self) -> None`: Отображает меню для выбора типа данных для добавления.
* `handle_input(self, choice: str) -> None`: Обрабатывает выбор преподавателя для добавления конкретных данных.

### DeletedState
Класс, представляющий состояние интерфейса для удаления данных (подменю преподавателя).

**Методы**:
* `show_menu(self) -> None`: Отображает меню для выбора типа данных для удаления.
* `handle_input(self, choice: str) -> None`: Обрабатывает выбор преподавателя для удаления конкретных данных.